"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const socket_io_1 = require("socket.io");
const redis_1 = require("redis");
const index_1 = require("./index");
const io = new socket_io_1.Server();
const pubClient = (0, redis_1.createClient)({ host: 'localhost', port: 6379 });
const subClient = pubClient.duplicate();
Promise.all([pubClient.connect(), subClient.connect()]).then(() => {
    io.adapter((0, index_1.createAdapter)(pubClient, subClient));
    io.listen(3000);
});
